<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Eldoria Noir: 20 Mysteries</title>
<style>
body {
    font-family: fantasy, sans-serif;
    margin: 0;
    padding: 20px;
    background-color: #1a1a1a;
    color: #d0c0a0;
}

#game-container {
    max-width: 600px;
    margin: 0 auto;
}

#scene, #clues, #result {
    margin-bottom: 20px;
    padding: 15px;
    background-color: #332f2e;
    border-radius: 5px;
    border: 1px solid #555;
    transition: opacity 0.5s ease-in-out;
    opacity: 1;
}

#scene img {
    max-width: 100%;
    height: auto;
    margin-bottom: 10px;
}

#choices {
    margin-bottom: 20px;
}

.choice-button {
    display: block;
    width: 90%;
    padding: 20px;
    margin: 10px auto;
    background-color: #443f3e;
    color: #d0c0a0;
    border: none;
    border-radius: 10px;
    font-size: 1.2em;
    cursor: pointer;
    touch-action: manipulation;
    font-family: fantasy, sans-serif;
    transition: background-color 0.3s ease;
}

.choice-button:hover {
    background-color: #665f5e;
}

#clues ul {
    list-style-type: none;
    padding: 0;
}

#clues ul li {
    margin-bottom: 5px;
    opacity: 0;
    transition: opacity 0.5s ease-in-out;
}

#save-load {
    margin-top: 20px;
    text-align: center;
}

#save-load button {
    padding: 15px 25px;
    margin: 10px;
    font-size: 1.1em;
    cursor: pointer;
    touch-action: manipulation;
    font-family: fantasy, sans-serif;
}
</style>
</head>
<body>

<div id="game-container">
    <div id="gender-selection">
        <h2>Choose Your Gender:</h2>
        <button onclick="startGame('male')">Male</button>
        <button onclick="startGame('female')">Female</button>
    </div>
    <div id="scene" style="display: none;"></div>
    <div id="choices" style="display: none;"></div>
    <div id="clues" style="display: none;">
        <h3>Clues:</h3>
        <ul id="clue-list"></ul>
    </div>
    <div id="result" style="display: none;"></div>
    <div id="save-load" style="display: none;">
        <button onclick="saveGame()">Save Game</button>
        <button onclick="loadGame()">Load Game</button>
    </div>
</div>

<script>
let investigations = [];
let currentInvestigation = 0;
let clues = [];
let murderer = null;
let characters = [];
let currentScene = 1;
let playerGender = null;
const weapons = ["Enchanted Dagger", "Shadowsteel Sword", "Phoenix Feather Arrow", "Frostbite Staff", "Vial of Basilisk Venom", "Runestone Hammer", "Spectral Chains", "Dragonbone Bow", "Cursed Amulet", "Wand of Whispering Winds", "Goblin Shiv", "Orcish War Axe", "Elven Longsword", "Dwarven Battlehammer", "Necromancer's Scythe", "Lich's Phylactery", "Griffin Talon", "Minotaur Horn", "Medusa's Gaze", "Wraith's Touch", "Crystal Shard", "Obsidian Blade", "Starfire Orb", "Moonstone Dagger", "Sunstone Amulet", "Thunderbolt Wand", "Earthquake Mallet", "Tidal Trident", "Inferno Gauntlets", "Arctic Claws", "Fairy Dust", "Pixie Poison", "Centaur Lance", "Harpy Claws", "Hydra Fang", "Basilisk Scale", "Chimera Breath", "Manticore Tail Spike", "Unicorn Horn", "Gorgon Shield"];
const magicSpells = ["Fireball", "Ice Storm", "Lightning Bolt", "Teleportation", "Invisibility", "Mind Control", "Summon Familiar", "Healing Touch", "Time Stop", "Spectral Blades", "Earthquake", "Tidal Wave", "Solar Flare", "Lunar Eclipse", "Shadow Walk", "Arcane Missiles", "Polymorph", "Charm", "Confusion", "Disintegrate", "Create Illusions", "Animate Objects", "Blink", "Dimensional Shift", "Enchant Weapon", "Curse", "Drain Life", "Force Field", "Gravity Well", "Astral Projection", "Create Golem", "Conjure Elementals", "Divination", "Energy Drain", "Fear", "Haste", "Imprisonment", "Necrotic Touch", "Portal Creation", "Silence"];
const outfits = ["Royal Robes", "Shadow Assassin Garb", "Enchanted Plate Armor", "Druid's Verdant Tunic", "Necromancer's Dark Cloak", "Bard's Festive Attire", "Alchemist's Smock", "Sorcerer's Starry Mantle", "Paladin's Shining Armor", "Rogue's Leather Jerkin", "Wizard's Conical Hat and Robes", "Knight's Chainmail", "Cleric's Holy Vestments", "Merchant's Fine Suit", "Explorer's Rugged Gear", "Hunter's Camouflage", "Sailor's Seafaring Outfit", "Farmer's Simple Clothes", "Guard's Uniform", "Jester's Motley", "Courtier's Elegant Gown", "Scholar's Academic Robes", "Monk's Simple Garments", "Barbarian's Fur Armor", "Pirate's Swashbuckler Outfit", "Noble's Rich Attire", "Beggar's Rags", "Dancer's Flowing Dress", "Gladiator's Arena Gear", "Herbalist's Earthy Tunic", "Astronomer's Celestial Robes", "Blacksmith's Leather Apron", "Carpenter's Work Clothes", "Fisherman's Waterproof Gear", "Jeweler's Fine Vest", "Mason's Stone-Dusted Clothes", "Miner's Helmet and Gear", "Potter's Clay-Stained Tunic", "Sculptor's Artistic Smock", "Tailor's Measuring Tape and Clothing", "Weaver's Colorful Threads", "Acrobat's Flexible Costume", "Beekeeper's Protective Suit", "Cartographer's Map-Covered Clothes", "Clockmaker's Precision Tools"];

function generateCharacter(gender) {
    let firstNames, lastNames;
    if (gender === 'male') {
        firstNames = ["Aelar", "Kael", "Thorne", "Draven", "Gideon"];
        lastNames = ["Shadowbrook", "Fireforge", "Stoneheart", "Ravenwood", "Ironclad"];
    } else {
        firstNames = ["Lyra", "Elowen", "Isolde", "Seraphina"];
        lastNames = ["Moonwhisper", "Nightshade", "Silverleaf", "Stardust"];
    }
    const races = ["Elf", "Human", "Dwarf", "Orc", "Goblin", "Fairy", "Centaur", "Minotaur", "Lich", "Wizard"];
    const professions = ["Mage", "Knight", "Rogue", "Cleric", "Alchemist", "Bard", "Druid", "Necromancer", "Sorcerer", "Paladin"];
    const firstName = firstNames[Math.floor(Math.random() * firstNames.length)];
    const lastName = lastNames[Math.floor(Math.random() * lastNames.length)];
    const race = races[Math.floor(Math.random() * races.length)];
    const profession = professions[Math.floor(Math.random() * professions.length)];
    const spell = magicSpells[Math.floor(Math.random() * magicSpells.length)];
    const outfit = outfits[Math.floor(Math.random() * outfits.length)];
    return { name: `${firstName} ${lastName} the ${race}`, profession: profession, spell: spell, outfit: outfit };
}

function generateInvestigation() {

